# coding: utf-8

"""
    Engine by MoneyLion API

    No description provided (generated by Openapi Generator https://github.com/openapitools/openapi-generator)

    The version of the OpenAPI document: 1.58.0
    Contact: help@engine.tech
    Generated by OpenAPI Generator (https://openapi-generator.tech)

    Do not edit the class manually.
"""  # noqa: E501

import warnings
from pydantic import validate_call, Field, StrictFloat, StrictStr, StrictInt
from typing import Any, Dict, List, Optional, Tuple, Union
from typing_extensions import Annotated

from datetime import datetime
from pydantic import Field
from typing_extensions import Annotated
from openapi_client.models.lead_client_tags_response import LeadClientTagsResponse
from openapi_client.models.lead_event_response import LeadEventResponse
from openapi_client.models.lead_payout_response import LeadPayoutResponse

from openapi_client.api_client import ApiClient, RequestSerialized
from openapi_client.api_response import ApiResponse
from openapi_client.rest import RESTResponseType


class AnalyticsApi:
    """NOTE: This class is auto generated by OpenAPI Generator
    Ref: https://openapi-generator.tech

    Do not edit the class manually.
    """

    def __init__(self, api_client=None) -> None:
        if api_client is None:
            api_client = ApiClient.get_default()
        self.api_client = api_client


    @validate_call
    def get_lead_client_tags(
        self,
        timestamp: Annotated[datetime, Field(description="The lower bound for when an event hit Engine by MoneyLion's system. ")],
        _request_timeout: Union[
            None,
            Annotated[StrictFloat, Field(gt=0)],
            Tuple[
                Annotated[StrictFloat, Field(gt=0)],
                Annotated[StrictFloat, Field(gt=0)]
            ]
        ] = None,
        _request_auth: Optional[Dict[StrictStr, Any]] = None,
        _content_type: Optional[StrictStr] = None,
        _headers: Optional[Dict[StrictStr, Any]] = None,
        _host_index: Annotated[StrictInt, Field(ge=0, le=0)] = 0,
    ) -> LeadClientTagsResponse:
        """Get lead client tags

        ### What is the Lead Client Tags API used for?  Client tags (also known as Custom Lead Attributes) are arbitrary key:value pairs of information that can be set using the API or URL of a partner page to enable custom segmentation. Client tags provides you a method to be able to segment leads to support uses cases like:    - See how various traffic sources on the supply partners site perform  - See what preferences their users from different segments have   The lead client tag endpoint returns client tags associated with a lead.  ### What use cases does it support?  You have the ability to append client tags, which are your specific identifiers (ie. traffic source, article, unique user identifier, etc.), to leads sent to Engine by MoneyLion's API via a partner page, embed, or the native API integration. Below are instructions on how to implement these client tags by integration so Engine by MoneyLion can ingest and report this data back to you.  In the below examples, the channel partner is appending two custom lead attributes: `traffic_source` and `article`. The values of `1234` and `5678` for `traffic_source` and `article`, respectively, are sample values and typically correspond to identifiers in the Channel Partner’s data.  #### Partner Page Custom lead attributes are appended to the partner page URL:  ``` https://hifiona.com/even-testing/loans?tag.traffic_source=1234&tag.clientid= ```  `traffic_source` is given a unique value, in this case, `1234`, to identify that any leads arriving marked with the attribute `traffic_source` and the attribute value `1234` have come from this particular source, which could be a particular subsection of your website, an article, an emailing list, etc. Custom lead attributes like traffic_source are especially useful if you plan on deploying your partner page in multiple locations, such as multiple pages on your website, or in multiple articles, to help identify the origin of leads and analyze which traffic sources are performing the most optimally.  `clientid` is not given a unique value, which means that any leads arriving marked with the attribute `clientid` will be assigned a unique value, most commonly an alphanumeric string, such as `202102021abcde1`, which will then be reported back to you via Client Tags API, so that you can understand and analyze metrics on a lead level.  Note that `traffic_source` and `clientid` are just two examples of Client tags, and that these can be any identifier that you wish. Other common custom lead attributes include subid and article.  It's also possible for a single key to have multiple values (eg `traffic_source=1234`, `traffic_source=abcd`, etc) and as such don't assume only the last value set for a key will persist.  Additionally it's worth noting that Engine by MoneyLion's own platform uses client tags mechanism in some cases hence don't be surprised to see client tags appear that you don't anticipate.  #### Embed Custom lead attributes are embedded to the source URL of the embed code:  ``` src=\"https://embed.hifiona.com/ui/multi-product/index.html?partner=even-testing&access_token={access_token}&company_uuid={company_uuid}&productType=loan&available_products=loan&tag.traffic_source=1234&tag.article=5678 ```  #### Native API In the `clientTags` section of the post request to Engine by MoneyLion's API, include custom lead attributes keys and values:  ``` {\"clientTags\": {\"traffic_source\": [\"1234\"], \"article\": [\"5678\"]}} ```  ### How does it work?  The endpoint is designed for paging forward through data in order to populate your local database. By relying on the “nextUrl” parameter provided in the preceding call’s response, we can guarantee a) you will see no gaps, and b) you will see no duplicates.  This endpoint should be polled hourly on the 15 minute mark to fetch new events. Data for this endpoint is made available with an 1 hour SLA. If the current time is '2020-01-01T08:15:00Z' UTC, making a request to this endpoint with the timestamp set to '2020-01-01T08:00:00Z' will error because of the 1 hour SLA. Making a request with a timestamp of '2020-01-01T07:00:00Z' however, will succeed.  For convenience, we provide a `shouldContinuePolling` flag to signal if data has been published at the location of the `nextUrl`.  The endpoint is cursor based. You can consume batches of events 1 hour at a time for the product tied to your company uuid. All that is required is a bearer token and timestamp. The endpoint will respond with all of the events that have happened from that timestamp forward for one hour. It will also include a pointer to the next timestamp to be used for a subsequent call. This endpoint should be polled hourly on the 15 minute mark to fetch new events. 

        :param timestamp: The lower bound for when an event hit Engine by MoneyLion's system.  (required)
        :type timestamp: datetime
        :param _request_timeout: timeout setting for this request. If one
                                 number provided, it will be total request
                                 timeout. It can also be a pair (tuple) of
                                 (connection, read) timeouts.
        :type _request_timeout: int, tuple(int, int), optional
        :param _request_auth: set to override the auth_settings for an a single
                              request; this effectively ignores the
                              authentication in the spec for a single request.
        :type _request_auth: dict, optional
        :param _content_type: force content-type for the request.
        :type _content_type: str, Optional
        :param _headers: set to override the headers for a single
                         request; this effectively ignores the headers
                         in the spec for a single request.
        :type _headers: dict, optional
        :param _host_index: set to override the host_index for a single
                            request; this effectively ignores the host_index
                            in the spec for a single request.
        :type _host_index: int, optional
        :return: Returns the result object.
        """ # noqa: E501

        _param = self._get_lead_client_tags_serialize(
            timestamp=timestamp,
            _request_auth=_request_auth,
            _content_type=_content_type,
            _headers=_headers,
            _host_index=_host_index
        )

        _response_types_map: Dict[str, Optional[str]] = {
            '200': "LeadClientTagsResponse",
            '401': "List[ApiError]",
            '422': "List[ApiError]",
        }
        response_data = self.api_client.call_api(
            *_param,
            _request_timeout=_request_timeout
        )
        response_data.read()
        return self.api_client.response_deserialize(
            response_data=response_data,
            response_types_map=_response_types_map,
        ).data


    @validate_call
    def get_lead_client_tags_with_http_info(
        self,
        timestamp: Annotated[datetime, Field(description="The lower bound for when an event hit Engine by MoneyLion's system. ")],
        _request_timeout: Union[
            None,
            Annotated[StrictFloat, Field(gt=0)],
            Tuple[
                Annotated[StrictFloat, Field(gt=0)],
                Annotated[StrictFloat, Field(gt=0)]
            ]
        ] = None,
        _request_auth: Optional[Dict[StrictStr, Any]] = None,
        _content_type: Optional[StrictStr] = None,
        _headers: Optional[Dict[StrictStr, Any]] = None,
        _host_index: Annotated[StrictInt, Field(ge=0, le=0)] = 0,
    ) -> ApiResponse[LeadClientTagsResponse]:
        """Get lead client tags

        ### What is the Lead Client Tags API used for?  Client tags (also known as Custom Lead Attributes) are arbitrary key:value pairs of information that can be set using the API or URL of a partner page to enable custom segmentation. Client tags provides you a method to be able to segment leads to support uses cases like:    - See how various traffic sources on the supply partners site perform  - See what preferences their users from different segments have   The lead client tag endpoint returns client tags associated with a lead.  ### What use cases does it support?  You have the ability to append client tags, which are your specific identifiers (ie. traffic source, article, unique user identifier, etc.), to leads sent to Engine by MoneyLion's API via a partner page, embed, or the native API integration. Below are instructions on how to implement these client tags by integration so Engine by MoneyLion can ingest and report this data back to you.  In the below examples, the channel partner is appending two custom lead attributes: `traffic_source` and `article`. The values of `1234` and `5678` for `traffic_source` and `article`, respectively, are sample values and typically correspond to identifiers in the Channel Partner’s data.  #### Partner Page Custom lead attributes are appended to the partner page URL:  ``` https://hifiona.com/even-testing/loans?tag.traffic_source=1234&tag.clientid= ```  `traffic_source` is given a unique value, in this case, `1234`, to identify that any leads arriving marked with the attribute `traffic_source` and the attribute value `1234` have come from this particular source, which could be a particular subsection of your website, an article, an emailing list, etc. Custom lead attributes like traffic_source are especially useful if you plan on deploying your partner page in multiple locations, such as multiple pages on your website, or in multiple articles, to help identify the origin of leads and analyze which traffic sources are performing the most optimally.  `clientid` is not given a unique value, which means that any leads arriving marked with the attribute `clientid` will be assigned a unique value, most commonly an alphanumeric string, such as `202102021abcde1`, which will then be reported back to you via Client Tags API, so that you can understand and analyze metrics on a lead level.  Note that `traffic_source` and `clientid` are just two examples of Client tags, and that these can be any identifier that you wish. Other common custom lead attributes include subid and article.  It's also possible for a single key to have multiple values (eg `traffic_source=1234`, `traffic_source=abcd`, etc) and as such don't assume only the last value set for a key will persist.  Additionally it's worth noting that Engine by MoneyLion's own platform uses client tags mechanism in some cases hence don't be surprised to see client tags appear that you don't anticipate.  #### Embed Custom lead attributes are embedded to the source URL of the embed code:  ``` src=\"https://embed.hifiona.com/ui/multi-product/index.html?partner=even-testing&access_token={access_token}&company_uuid={company_uuid}&productType=loan&available_products=loan&tag.traffic_source=1234&tag.article=5678 ```  #### Native API In the `clientTags` section of the post request to Engine by MoneyLion's API, include custom lead attributes keys and values:  ``` {\"clientTags\": {\"traffic_source\": [\"1234\"], \"article\": [\"5678\"]}} ```  ### How does it work?  The endpoint is designed for paging forward through data in order to populate your local database. By relying on the “nextUrl” parameter provided in the preceding call’s response, we can guarantee a) you will see no gaps, and b) you will see no duplicates.  This endpoint should be polled hourly on the 15 minute mark to fetch new events. Data for this endpoint is made available with an 1 hour SLA. If the current time is '2020-01-01T08:15:00Z' UTC, making a request to this endpoint with the timestamp set to '2020-01-01T08:00:00Z' will error because of the 1 hour SLA. Making a request with a timestamp of '2020-01-01T07:00:00Z' however, will succeed.  For convenience, we provide a `shouldContinuePolling` flag to signal if data has been published at the location of the `nextUrl`.  The endpoint is cursor based. You can consume batches of events 1 hour at a time for the product tied to your company uuid. All that is required is a bearer token and timestamp. The endpoint will respond with all of the events that have happened from that timestamp forward for one hour. It will also include a pointer to the next timestamp to be used for a subsequent call. This endpoint should be polled hourly on the 15 minute mark to fetch new events. 

        :param timestamp: The lower bound for when an event hit Engine by MoneyLion's system.  (required)
        :type timestamp: datetime
        :param _request_timeout: timeout setting for this request. If one
                                 number provided, it will be total request
                                 timeout. It can also be a pair (tuple) of
                                 (connection, read) timeouts.
        :type _request_timeout: int, tuple(int, int), optional
        :param _request_auth: set to override the auth_settings for an a single
                              request; this effectively ignores the
                              authentication in the spec for a single request.
        :type _request_auth: dict, optional
        :param _content_type: force content-type for the request.
        :type _content_type: str, Optional
        :param _headers: set to override the headers for a single
                         request; this effectively ignores the headers
                         in the spec for a single request.
        :type _headers: dict, optional
        :param _host_index: set to override the host_index for a single
                            request; this effectively ignores the host_index
                            in the spec for a single request.
        :type _host_index: int, optional
        :return: Returns the result object.
        """ # noqa: E501

        _param = self._get_lead_client_tags_serialize(
            timestamp=timestamp,
            _request_auth=_request_auth,
            _content_type=_content_type,
            _headers=_headers,
            _host_index=_host_index
        )

        _response_types_map: Dict[str, Optional[str]] = {
            '200': "LeadClientTagsResponse",
            '401': "List[ApiError]",
            '422': "List[ApiError]",
        }
        response_data = self.api_client.call_api(
            *_param,
            _request_timeout=_request_timeout
        )
        response_data.read()
        return self.api_client.response_deserialize(
            response_data=response_data,
            response_types_map=_response_types_map,
        )


    @validate_call
    def get_lead_client_tags_without_preload_content(
        self,
        timestamp: Annotated[datetime, Field(description="The lower bound for when an event hit Engine by MoneyLion's system. ")],
        _request_timeout: Union[
            None,
            Annotated[StrictFloat, Field(gt=0)],
            Tuple[
                Annotated[StrictFloat, Field(gt=0)],
                Annotated[StrictFloat, Field(gt=0)]
            ]
        ] = None,
        _request_auth: Optional[Dict[StrictStr, Any]] = None,
        _content_type: Optional[StrictStr] = None,
        _headers: Optional[Dict[StrictStr, Any]] = None,
        _host_index: Annotated[StrictInt, Field(ge=0, le=0)] = 0,
    ) -> RESTResponseType:
        """Get lead client tags

        ### What is the Lead Client Tags API used for?  Client tags (also known as Custom Lead Attributes) are arbitrary key:value pairs of information that can be set using the API or URL of a partner page to enable custom segmentation. Client tags provides you a method to be able to segment leads to support uses cases like:    - See how various traffic sources on the supply partners site perform  - See what preferences their users from different segments have   The lead client tag endpoint returns client tags associated with a lead.  ### What use cases does it support?  You have the ability to append client tags, which are your specific identifiers (ie. traffic source, article, unique user identifier, etc.), to leads sent to Engine by MoneyLion's API via a partner page, embed, or the native API integration. Below are instructions on how to implement these client tags by integration so Engine by MoneyLion can ingest and report this data back to you.  In the below examples, the channel partner is appending two custom lead attributes: `traffic_source` and `article`. The values of `1234` and `5678` for `traffic_source` and `article`, respectively, are sample values and typically correspond to identifiers in the Channel Partner’s data.  #### Partner Page Custom lead attributes are appended to the partner page URL:  ``` https://hifiona.com/even-testing/loans?tag.traffic_source=1234&tag.clientid= ```  `traffic_source` is given a unique value, in this case, `1234`, to identify that any leads arriving marked with the attribute `traffic_source` and the attribute value `1234` have come from this particular source, which could be a particular subsection of your website, an article, an emailing list, etc. Custom lead attributes like traffic_source are especially useful if you plan on deploying your partner page in multiple locations, such as multiple pages on your website, or in multiple articles, to help identify the origin of leads and analyze which traffic sources are performing the most optimally.  `clientid` is not given a unique value, which means that any leads arriving marked with the attribute `clientid` will be assigned a unique value, most commonly an alphanumeric string, such as `202102021abcde1`, which will then be reported back to you via Client Tags API, so that you can understand and analyze metrics on a lead level.  Note that `traffic_source` and `clientid` are just two examples of Client tags, and that these can be any identifier that you wish. Other common custom lead attributes include subid and article.  It's also possible for a single key to have multiple values (eg `traffic_source=1234`, `traffic_source=abcd`, etc) and as such don't assume only the last value set for a key will persist.  Additionally it's worth noting that Engine by MoneyLion's own platform uses client tags mechanism in some cases hence don't be surprised to see client tags appear that you don't anticipate.  #### Embed Custom lead attributes are embedded to the source URL of the embed code:  ``` src=\"https://embed.hifiona.com/ui/multi-product/index.html?partner=even-testing&access_token={access_token}&company_uuid={company_uuid}&productType=loan&available_products=loan&tag.traffic_source=1234&tag.article=5678 ```  #### Native API In the `clientTags` section of the post request to Engine by MoneyLion's API, include custom lead attributes keys and values:  ``` {\"clientTags\": {\"traffic_source\": [\"1234\"], \"article\": [\"5678\"]}} ```  ### How does it work?  The endpoint is designed for paging forward through data in order to populate your local database. By relying on the “nextUrl” parameter provided in the preceding call’s response, we can guarantee a) you will see no gaps, and b) you will see no duplicates.  This endpoint should be polled hourly on the 15 minute mark to fetch new events. Data for this endpoint is made available with an 1 hour SLA. If the current time is '2020-01-01T08:15:00Z' UTC, making a request to this endpoint with the timestamp set to '2020-01-01T08:00:00Z' will error because of the 1 hour SLA. Making a request with a timestamp of '2020-01-01T07:00:00Z' however, will succeed.  For convenience, we provide a `shouldContinuePolling` flag to signal if data has been published at the location of the `nextUrl`.  The endpoint is cursor based. You can consume batches of events 1 hour at a time for the product tied to your company uuid. All that is required is a bearer token and timestamp. The endpoint will respond with all of the events that have happened from that timestamp forward for one hour. It will also include a pointer to the next timestamp to be used for a subsequent call. This endpoint should be polled hourly on the 15 minute mark to fetch new events. 

        :param timestamp: The lower bound for when an event hit Engine by MoneyLion's system.  (required)
        :type timestamp: datetime
        :param _request_timeout: timeout setting for this request. If one
                                 number provided, it will be total request
                                 timeout. It can also be a pair (tuple) of
                                 (connection, read) timeouts.
        :type _request_timeout: int, tuple(int, int), optional
        :param _request_auth: set to override the auth_settings for an a single
                              request; this effectively ignores the
                              authentication in the spec for a single request.
        :type _request_auth: dict, optional
        :param _content_type: force content-type for the request.
        :type _content_type: str, Optional
        :param _headers: set to override the headers for a single
                         request; this effectively ignores the headers
                         in the spec for a single request.
        :type _headers: dict, optional
        :param _host_index: set to override the host_index for a single
                            request; this effectively ignores the host_index
                            in the spec for a single request.
        :type _host_index: int, optional
        :return: Returns the result object.
        """ # noqa: E501

        _param = self._get_lead_client_tags_serialize(
            timestamp=timestamp,
            _request_auth=_request_auth,
            _content_type=_content_type,
            _headers=_headers,
            _host_index=_host_index
        )

        _response_types_map: Dict[str, Optional[str]] = {
            '200': "LeadClientTagsResponse",
            '401': "List[ApiError]",
            '422': "List[ApiError]",
        }
        response_data = self.api_client.call_api(
            *_param,
            _request_timeout=_request_timeout
        )
        return response_data.response


    def _get_lead_client_tags_serialize(
        self,
        timestamp,
        _request_auth,
        _content_type,
        _headers,
        _host_index,
    ) -> RequestSerialized:

        _host = None

        _collection_formats: Dict[str, str] = {
        }

        _path_params: Dict[str, str] = {}
        _query_params: List[Tuple[str, str]] = []
        _header_params: Dict[str, Optional[str]] = _headers or {}
        _form_params: List[Tuple[str, str]] = []
        _files: Dict[str, Union[str, bytes]] = {}
        _body_params: Optional[bytes] = None

        # process the path parameters
        # process the query parameters
        if timestamp is not None:
            if isinstance(timestamp, datetime):
                _query_params.append(
                    (
                        'timestamp',
                        timestamp.strftime(
                            self.api_client.configuration.datetime_format
                        )
                    )
                )
            else:
                _query_params.append(('timestamp', timestamp))
            
        # process the header parameters
        # process the form parameters
        # process the body parameter


        # set the HTTP header `Accept`
        if 'Accept' not in _header_params:
            _header_params['Accept'] = self.api_client.select_header_accept(
                [
                    'application/json'
                ]
            )


        # authentication setting
        _auth_settings: List[str] = [
            'confidentialBearerToken'
        ]

        return self.api_client.param_serialize(
            method='GET',
            resource_path='/supplyAnalytics/leadClientTags',
            path_params=_path_params,
            query_params=_query_params,
            header_params=_header_params,
            body=_body_params,
            post_params=_form_params,
            files=_files,
            auth_settings=_auth_settings,
            collection_formats=_collection_formats,
            _host=_host,
            _request_auth=_request_auth
        )




    @validate_call
    def get_lead_events(
        self,
        timestamp: Annotated[datetime, Field(description="The lower bound for when an event hit Engine by MoneyLion's system. ")],
        _request_timeout: Union[
            None,
            Annotated[StrictFloat, Field(gt=0)],
            Tuple[
                Annotated[StrictFloat, Field(gt=0)],
                Annotated[StrictFloat, Field(gt=0)]
            ]
        ] = None,
        _request_auth: Optional[Dict[StrictStr, Any]] = None,
        _content_type: Optional[StrictStr] = None,
        _headers: Optional[Dict[StrictStr, Any]] = None,
        _host_index: Annotated[StrictInt, Field(ge=0, le=0)] = 0,
    ) -> LeadEventResponse:
        """Get lead events

        ### What is the Lead Events API used for?  With the Lead Events API, you can pull KPI related data for your funnel, measure conversions, and iterate so that you can meet your business goals.  The endpoint returns events associated with each lead. The event type is indicated by the eventType property. Each event will also include metadata applicable to the eventType. It allows easy consumption of the events into your database so that you can integrate it into your BI framework and compare it alongside data from other systems to assess performance holistically.  ### How does it work?  The endpoint is cursor based. You can consume batches of events 1 hour at a time for the product tied to your company uuid. All that is required is a bearer token and timestamp. The endpoint will respond with all of the events that have happened from that timestamp forward for one hour. It will also include a pointer to the next timestamp to be used for a subsequent call. This endpoint should be polled hourly on the 15 minute mark to fetch new events.  For convenience, we provide a `shouldContinuePolling` flag to signal if data has been published at the location of the `nextUrl`.  The endpoint is designed for paging forward through data in order to populate your local database. By relying on the `nextUrl` parameter provided in the preceding call's response, we can guarantee a) you will see no gaps, and b) you will see no duplicates.  This endpoint should be polled hourly on the 15 minute mark to fetch new events. Data for this endpoint is made available with a 1 hour SLA.  If the current time is '2020-01-01T08:15:00Z' UTC, making a request to this endpoint with the timestamp set to '2020-01-01T08:00:00Z' will error because of the 1 hour SLA. Making a request with a timestamp of '2020-01-01T07:10:00Z' however, will succeed.  ### Event Definitions  Common Attributes  <table>   <thead>     <tr>       <th>Attribute Name</th>       <th>Type</th>       <th>Format</th>       <th>Enum</th>     </tr>   </thead>   <tbody>     <tr>       <td>eventType</td>       <td>string</td>       <td>&#xa0;</td>       <td>leadCreated appSubmitted apiApproved apiRejected offerClicked applied approved listed opened funded conversation lenderQualifiedLead</td>     </tr>     <tr>       <td>leadUuid</td>       <td>string</td>       <td>uuid</td>       <td>&#xa0;</td>     </tr>     <tr>       <td>leadCreatedAt</td>       <td>string</td>       <td>date-time</td>       <td>&#xa0;</td>     </tr>     <tr>       <td>eventCreatedAt</td>       <td>string</td>       <td>date-time</td>       <td>&#xa0;</td>     </tr>     <tr>       <td>amountInCents</td>       <td>int</td>       <td>&#xa0;</td>       <td>&#xa0;</td>     </tr>     <tr>       <td>financialInstitutionName</td>       <td>string</td>       <td>&#xa0;</td>       <td>&#xa0;</td>     </tr>     <tr>       <td>financialInstitutionUuid</td>       <td>string</td>       <td>uuid</td>       <td>&#xa0;</td>     </tr>     <tr>       <td>productType</td>       <td>string</td>       <td>&#xa0;</td>       <td>creditCard insurance lifeInsurance loan mortgage savings other</td>     </tr>     <tr>       <td>isTest</td>       <td>boolean</td>       <td>&#xa0;</td>       <td>Whether a Lead was created using a test access token</td>     </tr>   </tbody> </table>  Common Event Types  <table>   <thead>     <tr>       <th> Event Type </th>       <th> Required Attributes </th>       <th> Optional Attributes </th>     </tr>   </thead>   <tbody>     <tr>       <td> leadCreated </td>       <td> eventType leadUuid leadCreatedAt eventCreatedAt </td>       <td> </td>     </tr>     <tr>       <td> appSubmitted </td>       <td> eventType leadUuid leadCreatedAt eventCreatedAt </td>       <td> </td>     </tr>     <tr>       <td> apiApproved </td>       <td> eventType leadUuid leadCreatedAt eventCreatedAt financialInstitutionName financialInstitutionUuid </td>       <td> productType </td>     </tr>     <tr>       <td> apiRejected </td>       <td> eventType leadUuid leadCreatedAt eventCreatedAt financialInstitutionName financialInstitutionUuid </td>       <td> productType </td>     </tr>     <tr>       <td> offerClicked </td>       <td> eventType leadUuid leadCreatedAt eventCreatedAt financialInstitutionName financialInstitutionUuid </td>       <td> productType </td>     </tr>     <tr>       <td> applied </td>       <td> eventType leadUuid leadCreatedAt eventCreatedAt financialInstitutionName financialInstitutionUuid </td>       <td> productType </td>     </tr>     <tr>       <td> approved </td>       <td> eventType leadUuid leadCreatedAt eventCreatedAt financialInstitutionName financialInstitutionUuid </td>       <td> productType </td>     </tr>     <tr>       <td> listed </td>       <td> eventType leadUuid leadCreatedAt eventCreatedAt financialInstitutionName financialInstitutionUuid </td>       <td> productType </td>     </tr>     <tr>       <td> opened </td>       <td> eventType leadUuid leadCreatedAt eventCreatedAt financialInstitutionName financialInstitutionUuid </td>       <td> productType </td>     </tr>   </tbody> </table>  Event Types for Personal Loans Funnel  <table>   <thead>     <tr>       <th> Event Type </th>       <th> Definition </th>       <th> Required Attributes </th>       <th> Optional Attributes </th>     </tr>   </thead>   <tbody>     <tr>       <td> leadCreated </td>       <td> A user enters the marketplace funnel </td>       <td> See under common event types </td>       <td></td>     </tr>     <tr>       <td> appSubmitted </td>       <td> The lead has filled out the information in the Engine by MoneyLion application and a rate table has been created </td>       <td> See under common event types </td>       <td></td>     </tr>     <tr>       <td> apiApproved </td>       <td> Financial institution has pre-approved or pre-qualified a user for at least one offer </td>       <td> See under common event types </td>       <td></td>     </tr>     <tr>       <td> apiRejected </td>       <td> Financial institution has not pre-approved or pre-qualified a user for any offers </td>       <td> See under common event types </td>       <td></td>     </tr>     <tr>       <td> offerClicked </td>       <td> The user clicks on or is auto redirected into an offer </td>       <td> See under common event types </td>       <td></td>     </tr>     <tr>       <td> applied </td>       <td> The user applied for an offer in the financial institution's experience </td>       <td> eventType leadUuid leadCreatedAt eventCreatedAt financialInstitutionName financialInstitutionUuid </td>       <td> productType amountInCents </td>     </tr>     <tr>       <td> approved </td>       <td> The user was approved for an offer after applying in the financial institution's experience </td>       <td> eventType leadUuid leadCreatedAt eventCreatedAt financialInstitutionName financialInstitutionUuid </td>       <td> productType amountInCents  </td>     </tr>     <tr>       <td> listed </td>       <td> The user's loan was listed on the financial institution's marketplace for funding </td>       <td> eventType leadUuid leadCreatedAt eventCreatedAt financialInstitutionName financialInstitutionUuid </td>       <td> productType amountInCents </td>     </tr>     <tr>       <td> funded </td>       <td> The user has a loan funded </td>       <td> eventType leadUuid leadCreatedAt eventCreatedAt financialInstitutionName financialInstitutionUuid </td>       <td> productType amountInCents </td>     </tr>     <tr>       <td> opened </td>       <td> The user monetizes with a special offer </td>       <td> See under common events </td>       <td></td>     </tr>     <tr>       <td> conversion </td>       <td> This event varies by lender, and will be deprecated. </td>       <td> eventType leadUuid leadCreatedAt eventCreatedAt financialInstitutionName financialInstitutionUuid </td>       <td> productType </td>     </tr>     <tr>       <td> lenderQualifiedLead </td>       <td> Financial institution further collected information from a lead </td>       <td> eventType leadUuid leadCreatedAt eventCreatedAt financialInstitutionName financialInstitutionUuid amountInCents </td>       <td> productType </td>     </tr>   </tbody> </table> 

        :param timestamp: The lower bound for when an event hit Engine by MoneyLion's system.  (required)
        :type timestamp: datetime
        :param _request_timeout: timeout setting for this request. If one
                                 number provided, it will be total request
                                 timeout. It can also be a pair (tuple) of
                                 (connection, read) timeouts.
        :type _request_timeout: int, tuple(int, int), optional
        :param _request_auth: set to override the auth_settings for an a single
                              request; this effectively ignores the
                              authentication in the spec for a single request.
        :type _request_auth: dict, optional
        :param _content_type: force content-type for the request.
        :type _content_type: str, Optional
        :param _headers: set to override the headers for a single
                         request; this effectively ignores the headers
                         in the spec for a single request.
        :type _headers: dict, optional
        :param _host_index: set to override the host_index for a single
                            request; this effectively ignores the host_index
                            in the spec for a single request.
        :type _host_index: int, optional
        :return: Returns the result object.
        """ # noqa: E501

        _param = self._get_lead_events_serialize(
            timestamp=timestamp,
            _request_auth=_request_auth,
            _content_type=_content_type,
            _headers=_headers,
            _host_index=_host_index
        )

        _response_types_map: Dict[str, Optional[str]] = {
            '200': "LeadEventResponse",
            '401': "List[ApiError]",
            '422': "List[ApiError]",
        }
        response_data = self.api_client.call_api(
            *_param,
            _request_timeout=_request_timeout
        )
        response_data.read()
        return self.api_client.response_deserialize(
            response_data=response_data,
            response_types_map=_response_types_map,
        ).data


    @validate_call
    def get_lead_events_with_http_info(
        self,
        timestamp: Annotated[datetime, Field(description="The lower bound for when an event hit Engine by MoneyLion's system. ")],
        _request_timeout: Union[
            None,
            Annotated[StrictFloat, Field(gt=0)],
            Tuple[
                Annotated[StrictFloat, Field(gt=0)],
                Annotated[StrictFloat, Field(gt=0)]
            ]
        ] = None,
        _request_auth: Optional[Dict[StrictStr, Any]] = None,
        _content_type: Optional[StrictStr] = None,
        _headers: Optional[Dict[StrictStr, Any]] = None,
        _host_index: Annotated[StrictInt, Field(ge=0, le=0)] = 0,
    ) -> ApiResponse[LeadEventResponse]:
        """Get lead events

        ### What is the Lead Events API used for?  With the Lead Events API, you can pull KPI related data for your funnel, measure conversions, and iterate so that you can meet your business goals.  The endpoint returns events associated with each lead. The event type is indicated by the eventType property. Each event will also include metadata applicable to the eventType. It allows easy consumption of the events into your database so that you can integrate it into your BI framework and compare it alongside data from other systems to assess performance holistically.  ### How does it work?  The endpoint is cursor based. You can consume batches of events 1 hour at a time for the product tied to your company uuid. All that is required is a bearer token and timestamp. The endpoint will respond with all of the events that have happened from that timestamp forward for one hour. It will also include a pointer to the next timestamp to be used for a subsequent call. This endpoint should be polled hourly on the 15 minute mark to fetch new events.  For convenience, we provide a `shouldContinuePolling` flag to signal if data has been published at the location of the `nextUrl`.  The endpoint is designed for paging forward through data in order to populate your local database. By relying on the `nextUrl` parameter provided in the preceding call's response, we can guarantee a) you will see no gaps, and b) you will see no duplicates.  This endpoint should be polled hourly on the 15 minute mark to fetch new events. Data for this endpoint is made available with a 1 hour SLA.  If the current time is '2020-01-01T08:15:00Z' UTC, making a request to this endpoint with the timestamp set to '2020-01-01T08:00:00Z' will error because of the 1 hour SLA. Making a request with a timestamp of '2020-01-01T07:10:00Z' however, will succeed.  ### Event Definitions  Common Attributes  <table>   <thead>     <tr>       <th>Attribute Name</th>       <th>Type</th>       <th>Format</th>       <th>Enum</th>     </tr>   </thead>   <tbody>     <tr>       <td>eventType</td>       <td>string</td>       <td>&#xa0;</td>       <td>leadCreated appSubmitted apiApproved apiRejected offerClicked applied approved listed opened funded conversation lenderQualifiedLead</td>     </tr>     <tr>       <td>leadUuid</td>       <td>string</td>       <td>uuid</td>       <td>&#xa0;</td>     </tr>     <tr>       <td>leadCreatedAt</td>       <td>string</td>       <td>date-time</td>       <td>&#xa0;</td>     </tr>     <tr>       <td>eventCreatedAt</td>       <td>string</td>       <td>date-time</td>       <td>&#xa0;</td>     </tr>     <tr>       <td>amountInCents</td>       <td>int</td>       <td>&#xa0;</td>       <td>&#xa0;</td>     </tr>     <tr>       <td>financialInstitutionName</td>       <td>string</td>       <td>&#xa0;</td>       <td>&#xa0;</td>     </tr>     <tr>       <td>financialInstitutionUuid</td>       <td>string</td>       <td>uuid</td>       <td>&#xa0;</td>     </tr>     <tr>       <td>productType</td>       <td>string</td>       <td>&#xa0;</td>       <td>creditCard insurance lifeInsurance loan mortgage savings other</td>     </tr>     <tr>       <td>isTest</td>       <td>boolean</td>       <td>&#xa0;</td>       <td>Whether a Lead was created using a test access token</td>     </tr>   </tbody> </table>  Common Event Types  <table>   <thead>     <tr>       <th> Event Type </th>       <th> Required Attributes </th>       <th> Optional Attributes </th>     </tr>   </thead>   <tbody>     <tr>       <td> leadCreated </td>       <td> eventType leadUuid leadCreatedAt eventCreatedAt </td>       <td> </td>     </tr>     <tr>       <td> appSubmitted </td>       <td> eventType leadUuid leadCreatedAt eventCreatedAt </td>       <td> </td>     </tr>     <tr>       <td> apiApproved </td>       <td> eventType leadUuid leadCreatedAt eventCreatedAt financialInstitutionName financialInstitutionUuid </td>       <td> productType </td>     </tr>     <tr>       <td> apiRejected </td>       <td> eventType leadUuid leadCreatedAt eventCreatedAt financialInstitutionName financialInstitutionUuid </td>       <td> productType </td>     </tr>     <tr>       <td> offerClicked </td>       <td> eventType leadUuid leadCreatedAt eventCreatedAt financialInstitutionName financialInstitutionUuid </td>       <td> productType </td>     </tr>     <tr>       <td> applied </td>       <td> eventType leadUuid leadCreatedAt eventCreatedAt financialInstitutionName financialInstitutionUuid </td>       <td> productType </td>     </tr>     <tr>       <td> approved </td>       <td> eventType leadUuid leadCreatedAt eventCreatedAt financialInstitutionName financialInstitutionUuid </td>       <td> productType </td>     </tr>     <tr>       <td> listed </td>       <td> eventType leadUuid leadCreatedAt eventCreatedAt financialInstitutionName financialInstitutionUuid </td>       <td> productType </td>     </tr>     <tr>       <td> opened </td>       <td> eventType leadUuid leadCreatedAt eventCreatedAt financialInstitutionName financialInstitutionUuid </td>       <td> productType </td>     </tr>   </tbody> </table>  Event Types for Personal Loans Funnel  <table>   <thead>     <tr>       <th> Event Type </th>       <th> Definition </th>       <th> Required Attributes </th>       <th> Optional Attributes </th>     </tr>   </thead>   <tbody>     <tr>       <td> leadCreated </td>       <td> A user enters the marketplace funnel </td>       <td> See under common event types </td>       <td></td>     </tr>     <tr>       <td> appSubmitted </td>       <td> The lead has filled out the information in the Engine by MoneyLion application and a rate table has been created </td>       <td> See under common event types </td>       <td></td>     </tr>     <tr>       <td> apiApproved </td>       <td> Financial institution has pre-approved or pre-qualified a user for at least one offer </td>       <td> See under common event types </td>       <td></td>     </tr>     <tr>       <td> apiRejected </td>       <td> Financial institution has not pre-approved or pre-qualified a user for any offers </td>       <td> See under common event types </td>       <td></td>     </tr>     <tr>       <td> offerClicked </td>       <td> The user clicks on or is auto redirected into an offer </td>       <td> See under common event types </td>       <td></td>     </tr>     <tr>       <td> applied </td>       <td> The user applied for an offer in the financial institution's experience </td>       <td> eventType leadUuid leadCreatedAt eventCreatedAt financialInstitutionName financialInstitutionUuid </td>       <td> productType amountInCents </td>     </tr>     <tr>       <td> approved </td>       <td> The user was approved for an offer after applying in the financial institution's experience </td>       <td> eventType leadUuid leadCreatedAt eventCreatedAt financialInstitutionName financialInstitutionUuid </td>       <td> productType amountInCents  </td>     </tr>     <tr>       <td> listed </td>       <td> The user's loan was listed on the financial institution's marketplace for funding </td>       <td> eventType leadUuid leadCreatedAt eventCreatedAt financialInstitutionName financialInstitutionUuid </td>       <td> productType amountInCents </td>     </tr>     <tr>       <td> funded </td>       <td> The user has a loan funded </td>       <td> eventType leadUuid leadCreatedAt eventCreatedAt financialInstitutionName financialInstitutionUuid </td>       <td> productType amountInCents </td>     </tr>     <tr>       <td> opened </td>       <td> The user monetizes with a special offer </td>       <td> See under common events </td>       <td></td>     </tr>     <tr>       <td> conversion </td>       <td> This event varies by lender, and will be deprecated. </td>       <td> eventType leadUuid leadCreatedAt eventCreatedAt financialInstitutionName financialInstitutionUuid </td>       <td> productType </td>     </tr>     <tr>       <td> lenderQualifiedLead </td>       <td> Financial institution further collected information from a lead </td>       <td> eventType leadUuid leadCreatedAt eventCreatedAt financialInstitutionName financialInstitutionUuid amountInCents </td>       <td> productType </td>     </tr>   </tbody> </table> 

        :param timestamp: The lower bound for when an event hit Engine by MoneyLion's system.  (required)
        :type timestamp: datetime
        :param _request_timeout: timeout setting for this request. If one
                                 number provided, it will be total request
                                 timeout. It can also be a pair (tuple) of
                                 (connection, read) timeouts.
        :type _request_timeout: int, tuple(int, int), optional
        :param _request_auth: set to override the auth_settings for an a single
                              request; this effectively ignores the
                              authentication in the spec for a single request.
        :type _request_auth: dict, optional
        :param _content_type: force content-type for the request.
        :type _content_type: str, Optional
        :param _headers: set to override the headers for a single
                         request; this effectively ignores the headers
                         in the spec for a single request.
        :type _headers: dict, optional
        :param _host_index: set to override the host_index for a single
                            request; this effectively ignores the host_index
                            in the spec for a single request.
        :type _host_index: int, optional
        :return: Returns the result object.
        """ # noqa: E501

        _param = self._get_lead_events_serialize(
            timestamp=timestamp,
            _request_auth=_request_auth,
            _content_type=_content_type,
            _headers=_headers,
            _host_index=_host_index
        )

        _response_types_map: Dict[str, Optional[str]] = {
            '200': "LeadEventResponse",
            '401': "List[ApiError]",
            '422': "List[ApiError]",
        }
        response_data = self.api_client.call_api(
            *_param,
            _request_timeout=_request_timeout
        )
        response_data.read()
        return self.api_client.response_deserialize(
            response_data=response_data,
            response_types_map=_response_types_map,
        )


    @validate_call
    def get_lead_events_without_preload_content(
        self,
        timestamp: Annotated[datetime, Field(description="The lower bound for when an event hit Engine by MoneyLion's system. ")],
        _request_timeout: Union[
            None,
            Annotated[StrictFloat, Field(gt=0)],
            Tuple[
                Annotated[StrictFloat, Field(gt=0)],
                Annotated[StrictFloat, Field(gt=0)]
            ]
        ] = None,
        _request_auth: Optional[Dict[StrictStr, Any]] = None,
        _content_type: Optional[StrictStr] = None,
        _headers: Optional[Dict[StrictStr, Any]] = None,
        _host_index: Annotated[StrictInt, Field(ge=0, le=0)] = 0,
    ) -> RESTResponseType:
        """Get lead events

        ### What is the Lead Events API used for?  With the Lead Events API, you can pull KPI related data for your funnel, measure conversions, and iterate so that you can meet your business goals.  The endpoint returns events associated with each lead. The event type is indicated by the eventType property. Each event will also include metadata applicable to the eventType. It allows easy consumption of the events into your database so that you can integrate it into your BI framework and compare it alongside data from other systems to assess performance holistically.  ### How does it work?  The endpoint is cursor based. You can consume batches of events 1 hour at a time for the product tied to your company uuid. All that is required is a bearer token and timestamp. The endpoint will respond with all of the events that have happened from that timestamp forward for one hour. It will also include a pointer to the next timestamp to be used for a subsequent call. This endpoint should be polled hourly on the 15 minute mark to fetch new events.  For convenience, we provide a `shouldContinuePolling` flag to signal if data has been published at the location of the `nextUrl`.  The endpoint is designed for paging forward through data in order to populate your local database. By relying on the `nextUrl` parameter provided in the preceding call's response, we can guarantee a) you will see no gaps, and b) you will see no duplicates.  This endpoint should be polled hourly on the 15 minute mark to fetch new events. Data for this endpoint is made available with a 1 hour SLA.  If the current time is '2020-01-01T08:15:00Z' UTC, making a request to this endpoint with the timestamp set to '2020-01-01T08:00:00Z' will error because of the 1 hour SLA. Making a request with a timestamp of '2020-01-01T07:10:00Z' however, will succeed.  ### Event Definitions  Common Attributes  <table>   <thead>     <tr>       <th>Attribute Name</th>       <th>Type</th>       <th>Format</th>       <th>Enum</th>     </tr>   </thead>   <tbody>     <tr>       <td>eventType</td>       <td>string</td>       <td>&#xa0;</td>       <td>leadCreated appSubmitted apiApproved apiRejected offerClicked applied approved listed opened funded conversation lenderQualifiedLead</td>     </tr>     <tr>       <td>leadUuid</td>       <td>string</td>       <td>uuid</td>       <td>&#xa0;</td>     </tr>     <tr>       <td>leadCreatedAt</td>       <td>string</td>       <td>date-time</td>       <td>&#xa0;</td>     </tr>     <tr>       <td>eventCreatedAt</td>       <td>string</td>       <td>date-time</td>       <td>&#xa0;</td>     </tr>     <tr>       <td>amountInCents</td>       <td>int</td>       <td>&#xa0;</td>       <td>&#xa0;</td>     </tr>     <tr>       <td>financialInstitutionName</td>       <td>string</td>       <td>&#xa0;</td>       <td>&#xa0;</td>     </tr>     <tr>       <td>financialInstitutionUuid</td>       <td>string</td>       <td>uuid</td>       <td>&#xa0;</td>     </tr>     <tr>       <td>productType</td>       <td>string</td>       <td>&#xa0;</td>       <td>creditCard insurance lifeInsurance loan mortgage savings other</td>     </tr>     <tr>       <td>isTest</td>       <td>boolean</td>       <td>&#xa0;</td>       <td>Whether a Lead was created using a test access token</td>     </tr>   </tbody> </table>  Common Event Types  <table>   <thead>     <tr>       <th> Event Type </th>       <th> Required Attributes </th>       <th> Optional Attributes </th>     </tr>   </thead>   <tbody>     <tr>       <td> leadCreated </td>       <td> eventType leadUuid leadCreatedAt eventCreatedAt </td>       <td> </td>     </tr>     <tr>       <td> appSubmitted </td>       <td> eventType leadUuid leadCreatedAt eventCreatedAt </td>       <td> </td>     </tr>     <tr>       <td> apiApproved </td>       <td> eventType leadUuid leadCreatedAt eventCreatedAt financialInstitutionName financialInstitutionUuid </td>       <td> productType </td>     </tr>     <tr>       <td> apiRejected </td>       <td> eventType leadUuid leadCreatedAt eventCreatedAt financialInstitutionName financialInstitutionUuid </td>       <td> productType </td>     </tr>     <tr>       <td> offerClicked </td>       <td> eventType leadUuid leadCreatedAt eventCreatedAt financialInstitutionName financialInstitutionUuid </td>       <td> productType </td>     </tr>     <tr>       <td> applied </td>       <td> eventType leadUuid leadCreatedAt eventCreatedAt financialInstitutionName financialInstitutionUuid </td>       <td> productType </td>     </tr>     <tr>       <td> approved </td>       <td> eventType leadUuid leadCreatedAt eventCreatedAt financialInstitutionName financialInstitutionUuid </td>       <td> productType </td>     </tr>     <tr>       <td> listed </td>       <td> eventType leadUuid leadCreatedAt eventCreatedAt financialInstitutionName financialInstitutionUuid </td>       <td> productType </td>     </tr>     <tr>       <td> opened </td>       <td> eventType leadUuid leadCreatedAt eventCreatedAt financialInstitutionName financialInstitutionUuid </td>       <td> productType </td>     </tr>   </tbody> </table>  Event Types for Personal Loans Funnel  <table>   <thead>     <tr>       <th> Event Type </th>       <th> Definition </th>       <th> Required Attributes </th>       <th> Optional Attributes </th>     </tr>   </thead>   <tbody>     <tr>       <td> leadCreated </td>       <td> A user enters the marketplace funnel </td>       <td> See under common event types </td>       <td></td>     </tr>     <tr>       <td> appSubmitted </td>       <td> The lead has filled out the information in the Engine by MoneyLion application and a rate table has been created </td>       <td> See under common event types </td>       <td></td>     </tr>     <tr>       <td> apiApproved </td>       <td> Financial institution has pre-approved or pre-qualified a user for at least one offer </td>       <td> See under common event types </td>       <td></td>     </tr>     <tr>       <td> apiRejected </td>       <td> Financial institution has not pre-approved or pre-qualified a user for any offers </td>       <td> See under common event types </td>       <td></td>     </tr>     <tr>       <td> offerClicked </td>       <td> The user clicks on or is auto redirected into an offer </td>       <td> See under common event types </td>       <td></td>     </tr>     <tr>       <td> applied </td>       <td> The user applied for an offer in the financial institution's experience </td>       <td> eventType leadUuid leadCreatedAt eventCreatedAt financialInstitutionName financialInstitutionUuid </td>       <td> productType amountInCents </td>     </tr>     <tr>       <td> approved </td>       <td> The user was approved for an offer after applying in the financial institution's experience </td>       <td> eventType leadUuid leadCreatedAt eventCreatedAt financialInstitutionName financialInstitutionUuid </td>       <td> productType amountInCents  </td>     </tr>     <tr>       <td> listed </td>       <td> The user's loan was listed on the financial institution's marketplace for funding </td>       <td> eventType leadUuid leadCreatedAt eventCreatedAt financialInstitutionName financialInstitutionUuid </td>       <td> productType amountInCents </td>     </tr>     <tr>       <td> funded </td>       <td> The user has a loan funded </td>       <td> eventType leadUuid leadCreatedAt eventCreatedAt financialInstitutionName financialInstitutionUuid </td>       <td> productType amountInCents </td>     </tr>     <tr>       <td> opened </td>       <td> The user monetizes with a special offer </td>       <td> See under common events </td>       <td></td>     </tr>     <tr>       <td> conversion </td>       <td> This event varies by lender, and will be deprecated. </td>       <td> eventType leadUuid leadCreatedAt eventCreatedAt financialInstitutionName financialInstitutionUuid </td>       <td> productType </td>     </tr>     <tr>       <td> lenderQualifiedLead </td>       <td> Financial institution further collected information from a lead </td>       <td> eventType leadUuid leadCreatedAt eventCreatedAt financialInstitutionName financialInstitutionUuid amountInCents </td>       <td> productType </td>     </tr>   </tbody> </table> 

        :param timestamp: The lower bound for when an event hit Engine by MoneyLion's system.  (required)
        :type timestamp: datetime
        :param _request_timeout: timeout setting for this request. If one
                                 number provided, it will be total request
                                 timeout. It can also be a pair (tuple) of
                                 (connection, read) timeouts.
        :type _request_timeout: int, tuple(int, int), optional
        :param _request_auth: set to override the auth_settings for an a single
                              request; this effectively ignores the
                              authentication in the spec for a single request.
        :type _request_auth: dict, optional
        :param _content_type: force content-type for the request.
        :type _content_type: str, Optional
        :param _headers: set to override the headers for a single
                         request; this effectively ignores the headers
                         in the spec for a single request.
        :type _headers: dict, optional
        :param _host_index: set to override the host_index for a single
                            request; this effectively ignores the host_index
                            in the spec for a single request.
        :type _host_index: int, optional
        :return: Returns the result object.
        """ # noqa: E501

        _param = self._get_lead_events_serialize(
            timestamp=timestamp,
            _request_auth=_request_auth,
            _content_type=_content_type,
            _headers=_headers,
            _host_index=_host_index
        )

        _response_types_map: Dict[str, Optional[str]] = {
            '200': "LeadEventResponse",
            '401': "List[ApiError]",
            '422': "List[ApiError]",
        }
        response_data = self.api_client.call_api(
            *_param,
            _request_timeout=_request_timeout
        )
        return response_data.response


    def _get_lead_events_serialize(
        self,
        timestamp,
        _request_auth,
        _content_type,
        _headers,
        _host_index,
    ) -> RequestSerialized:

        _host = None

        _collection_formats: Dict[str, str] = {
        }

        _path_params: Dict[str, str] = {}
        _query_params: List[Tuple[str, str]] = []
        _header_params: Dict[str, Optional[str]] = _headers or {}
        _form_params: List[Tuple[str, str]] = []
        _files: Dict[str, Union[str, bytes]] = {}
        _body_params: Optional[bytes] = None

        # process the path parameters
        # process the query parameters
        if timestamp is not None:
            if isinstance(timestamp, datetime):
                _query_params.append(
                    (
                        'timestamp',
                        timestamp.strftime(
                            self.api_client.configuration.datetime_format
                        )
                    )
                )
            else:
                _query_params.append(('timestamp', timestamp))
            
        # process the header parameters
        # process the form parameters
        # process the body parameter


        # set the HTTP header `Accept`
        if 'Accept' not in _header_params:
            _header_params['Accept'] = self.api_client.select_header_accept(
                [
                    'application/json'
                ]
            )


        # authentication setting
        _auth_settings: List[str] = [
            'confidentialBearerToken'
        ]

        return self.api_client.param_serialize(
            method='GET',
            resource_path='/supplyAnalytics/leadEvents',
            path_params=_path_params,
            query_params=_query_params,
            header_params=_header_params,
            body=_body_params,
            post_params=_form_params,
            files=_files,
            auth_settings=_auth_settings,
            collection_formats=_collection_formats,
            _host=_host,
            _request_auth=_request_auth
        )




    @validate_call
    def get_lead_payouts(
        self,
        timestamp: Annotated[datetime, Field(description="The lower bound for when an event hits Engine by MoneyLion's system. ")],
        _request_timeout: Union[
            None,
            Annotated[StrictFloat, Field(gt=0)],
            Tuple[
                Annotated[StrictFloat, Field(gt=0)],
                Annotated[StrictFloat, Field(gt=0)]
            ]
        ] = None,
        _request_auth: Optional[Dict[StrictStr, Any]] = None,
        _content_type: Optional[StrictStr] = None,
        _headers: Optional[Dict[StrictStr, Any]] = None,
        _host_index: Annotated[StrictInt, Field(ge=0, le=0)] = 0,
    ) -> LeadPayoutResponse:
        """Get lead payouts

        ### What is the Lead Payouts API used for?  With Lead payout API you can collect granular payout information for leads you have submitted. It returns payout events associated with a lead. Event data is limited to the amount that was paid out, and when the payout was booked.  We recently added two additional optional fields to the payout event information tied to leads:     - `financialInstitutionUuid`   - `financialInstitutionName`   These fields will tie conversion events to specific Financial Institutions (Lenders) for your knowledge and analytical use. We include these additional fields to disambiguate which financial institution a given payout originates from in the case of multiple payouts against a given lead. Not all lead payout events can be traced back to a financial institution, so these fields are optional. The Financial Institution Name is not guaranteed to be a stable identifier of the entity; Financial Institution UUID is.  LeadPayout `deletedAt` will report the time that the payout was deleted. Payouts get deleted when there are post dated Contract changes or partner reporting errors requiring reingestion of EDEs.  ### How does it work?  The endpoint is cursor based. You can consume batches of events 1 hour at a time for the product tied to your company uuid. All that is required is a bearer token and timestamp. The endpoint will respond with all of the events that have happened from that timestamp forward for one hour. It will also include a pointer to the next timestamp to be used for a subsequent call. This endpoint should be polled hourly on the 15 minute mark to fetch new events.  For convenience, we provide a `shouldContinuePolling` flag to signal if data has yet been published at the location of the nextUrl.  The endpoint is designed for paging forward through data in order to populate your local database. By relying on the `nextUrl` parameter provided in the preceding call's response, we can guarantee a) you will see no gaps, and b) you will see no duplicates.  This endpoint should be polled hourly on the 15 minute mark to fetch new events. Data for this endpoint is made available with an 1 hour SLA. If the current time is '2020-01-01T08:15:00Z' UTC, making a request to this endpoint with the timestamp set to '2020-01-01T08:00:00Z' will error because of the 1 hour SLA. Making a request with a timestamp of '2020-01-01T07:00:00Z' however, will succeed. 

        :param timestamp: The lower bound for when an event hits Engine by MoneyLion's system.  (required)
        :type timestamp: datetime
        :param _request_timeout: timeout setting for this request. If one
                                 number provided, it will be total request
                                 timeout. It can also be a pair (tuple) of
                                 (connection, read) timeouts.
        :type _request_timeout: int, tuple(int, int), optional
        :param _request_auth: set to override the auth_settings for an a single
                              request; this effectively ignores the
                              authentication in the spec for a single request.
        :type _request_auth: dict, optional
        :param _content_type: force content-type for the request.
        :type _content_type: str, Optional
        :param _headers: set to override the headers for a single
                         request; this effectively ignores the headers
                         in the spec for a single request.
        :type _headers: dict, optional
        :param _host_index: set to override the host_index for a single
                            request; this effectively ignores the host_index
                            in the spec for a single request.
        :type _host_index: int, optional
        :return: Returns the result object.
        """ # noqa: E501

        _param = self._get_lead_payouts_serialize(
            timestamp=timestamp,
            _request_auth=_request_auth,
            _content_type=_content_type,
            _headers=_headers,
            _host_index=_host_index
        )

        _response_types_map: Dict[str, Optional[str]] = {
            '200': "LeadPayoutResponse",
            '401': "List[ApiError]",
            '422': "List[ApiError]",
        }
        response_data = self.api_client.call_api(
            *_param,
            _request_timeout=_request_timeout
        )
        response_data.read()
        return self.api_client.response_deserialize(
            response_data=response_data,
            response_types_map=_response_types_map,
        ).data


    @validate_call
    def get_lead_payouts_with_http_info(
        self,
        timestamp: Annotated[datetime, Field(description="The lower bound for when an event hits Engine by MoneyLion's system. ")],
        _request_timeout: Union[
            None,
            Annotated[StrictFloat, Field(gt=0)],
            Tuple[
                Annotated[StrictFloat, Field(gt=0)],
                Annotated[StrictFloat, Field(gt=0)]
            ]
        ] = None,
        _request_auth: Optional[Dict[StrictStr, Any]] = None,
        _content_type: Optional[StrictStr] = None,
        _headers: Optional[Dict[StrictStr, Any]] = None,
        _host_index: Annotated[StrictInt, Field(ge=0, le=0)] = 0,
    ) -> ApiResponse[LeadPayoutResponse]:
        """Get lead payouts

        ### What is the Lead Payouts API used for?  With Lead payout API you can collect granular payout information for leads you have submitted. It returns payout events associated with a lead. Event data is limited to the amount that was paid out, and when the payout was booked.  We recently added two additional optional fields to the payout event information tied to leads:     - `financialInstitutionUuid`   - `financialInstitutionName`   These fields will tie conversion events to specific Financial Institutions (Lenders) for your knowledge and analytical use. We include these additional fields to disambiguate which financial institution a given payout originates from in the case of multiple payouts against a given lead. Not all lead payout events can be traced back to a financial institution, so these fields are optional. The Financial Institution Name is not guaranteed to be a stable identifier of the entity; Financial Institution UUID is.  LeadPayout `deletedAt` will report the time that the payout was deleted. Payouts get deleted when there are post dated Contract changes or partner reporting errors requiring reingestion of EDEs.  ### How does it work?  The endpoint is cursor based. You can consume batches of events 1 hour at a time for the product tied to your company uuid. All that is required is a bearer token and timestamp. The endpoint will respond with all of the events that have happened from that timestamp forward for one hour. It will also include a pointer to the next timestamp to be used for a subsequent call. This endpoint should be polled hourly on the 15 minute mark to fetch new events.  For convenience, we provide a `shouldContinuePolling` flag to signal if data has yet been published at the location of the nextUrl.  The endpoint is designed for paging forward through data in order to populate your local database. By relying on the `nextUrl` parameter provided in the preceding call's response, we can guarantee a) you will see no gaps, and b) you will see no duplicates.  This endpoint should be polled hourly on the 15 minute mark to fetch new events. Data for this endpoint is made available with an 1 hour SLA. If the current time is '2020-01-01T08:15:00Z' UTC, making a request to this endpoint with the timestamp set to '2020-01-01T08:00:00Z' will error because of the 1 hour SLA. Making a request with a timestamp of '2020-01-01T07:00:00Z' however, will succeed. 

        :param timestamp: The lower bound for when an event hits Engine by MoneyLion's system.  (required)
        :type timestamp: datetime
        :param _request_timeout: timeout setting for this request. If one
                                 number provided, it will be total request
                                 timeout. It can also be a pair (tuple) of
                                 (connection, read) timeouts.
        :type _request_timeout: int, tuple(int, int), optional
        :param _request_auth: set to override the auth_settings for an a single
                              request; this effectively ignores the
                              authentication in the spec for a single request.
        :type _request_auth: dict, optional
        :param _content_type: force content-type for the request.
        :type _content_type: str, Optional
        :param _headers: set to override the headers for a single
                         request; this effectively ignores the headers
                         in the spec for a single request.
        :type _headers: dict, optional
        :param _host_index: set to override the host_index for a single
                            request; this effectively ignores the host_index
                            in the spec for a single request.
        :type _host_index: int, optional
        :return: Returns the result object.
        """ # noqa: E501

        _param = self._get_lead_payouts_serialize(
            timestamp=timestamp,
            _request_auth=_request_auth,
            _content_type=_content_type,
            _headers=_headers,
            _host_index=_host_index
        )

        _response_types_map: Dict[str, Optional[str]] = {
            '200': "LeadPayoutResponse",
            '401': "List[ApiError]",
            '422': "List[ApiError]",
        }
        response_data = self.api_client.call_api(
            *_param,
            _request_timeout=_request_timeout
        )
        response_data.read()
        return self.api_client.response_deserialize(
            response_data=response_data,
            response_types_map=_response_types_map,
        )


    @validate_call
    def get_lead_payouts_without_preload_content(
        self,
        timestamp: Annotated[datetime, Field(description="The lower bound for when an event hits Engine by MoneyLion's system. ")],
        _request_timeout: Union[
            None,
            Annotated[StrictFloat, Field(gt=0)],
            Tuple[
                Annotated[StrictFloat, Field(gt=0)],
                Annotated[StrictFloat, Field(gt=0)]
            ]
        ] = None,
        _request_auth: Optional[Dict[StrictStr, Any]] = None,
        _content_type: Optional[StrictStr] = None,
        _headers: Optional[Dict[StrictStr, Any]] = None,
        _host_index: Annotated[StrictInt, Field(ge=0, le=0)] = 0,
    ) -> RESTResponseType:
        """Get lead payouts

        ### What is the Lead Payouts API used for?  With Lead payout API you can collect granular payout information for leads you have submitted. It returns payout events associated with a lead. Event data is limited to the amount that was paid out, and when the payout was booked.  We recently added two additional optional fields to the payout event information tied to leads:     - `financialInstitutionUuid`   - `financialInstitutionName`   These fields will tie conversion events to specific Financial Institutions (Lenders) for your knowledge and analytical use. We include these additional fields to disambiguate which financial institution a given payout originates from in the case of multiple payouts against a given lead. Not all lead payout events can be traced back to a financial institution, so these fields are optional. The Financial Institution Name is not guaranteed to be a stable identifier of the entity; Financial Institution UUID is.  LeadPayout `deletedAt` will report the time that the payout was deleted. Payouts get deleted when there are post dated Contract changes or partner reporting errors requiring reingestion of EDEs.  ### How does it work?  The endpoint is cursor based. You can consume batches of events 1 hour at a time for the product tied to your company uuid. All that is required is a bearer token and timestamp. The endpoint will respond with all of the events that have happened from that timestamp forward for one hour. It will also include a pointer to the next timestamp to be used for a subsequent call. This endpoint should be polled hourly on the 15 minute mark to fetch new events.  For convenience, we provide a `shouldContinuePolling` flag to signal if data has yet been published at the location of the nextUrl.  The endpoint is designed for paging forward through data in order to populate your local database. By relying on the `nextUrl` parameter provided in the preceding call's response, we can guarantee a) you will see no gaps, and b) you will see no duplicates.  This endpoint should be polled hourly on the 15 minute mark to fetch new events. Data for this endpoint is made available with an 1 hour SLA. If the current time is '2020-01-01T08:15:00Z' UTC, making a request to this endpoint with the timestamp set to '2020-01-01T08:00:00Z' will error because of the 1 hour SLA. Making a request with a timestamp of '2020-01-01T07:00:00Z' however, will succeed. 

        :param timestamp: The lower bound for when an event hits Engine by MoneyLion's system.  (required)
        :type timestamp: datetime
        :param _request_timeout: timeout setting for this request. If one
                                 number provided, it will be total request
                                 timeout. It can also be a pair (tuple) of
                                 (connection, read) timeouts.
        :type _request_timeout: int, tuple(int, int), optional
        :param _request_auth: set to override the auth_settings for an a single
                              request; this effectively ignores the
                              authentication in the spec for a single request.
        :type _request_auth: dict, optional
        :param _content_type: force content-type for the request.
        :type _content_type: str, Optional
        :param _headers: set to override the headers for a single
                         request; this effectively ignores the headers
                         in the spec for a single request.
        :type _headers: dict, optional
        :param _host_index: set to override the host_index for a single
                            request; this effectively ignores the host_index
                            in the spec for a single request.
        :type _host_index: int, optional
        :return: Returns the result object.
        """ # noqa: E501

        _param = self._get_lead_payouts_serialize(
            timestamp=timestamp,
            _request_auth=_request_auth,
            _content_type=_content_type,
            _headers=_headers,
            _host_index=_host_index
        )

        _response_types_map: Dict[str, Optional[str]] = {
            '200': "LeadPayoutResponse",
            '401': "List[ApiError]",
            '422': "List[ApiError]",
        }
        response_data = self.api_client.call_api(
            *_param,
            _request_timeout=_request_timeout
        )
        return response_data.response


    def _get_lead_payouts_serialize(
        self,
        timestamp,
        _request_auth,
        _content_type,
        _headers,
        _host_index,
    ) -> RequestSerialized:

        _host = None

        _collection_formats: Dict[str, str] = {
        }

        _path_params: Dict[str, str] = {}
        _query_params: List[Tuple[str, str]] = []
        _header_params: Dict[str, Optional[str]] = _headers or {}
        _form_params: List[Tuple[str, str]] = []
        _files: Dict[str, Union[str, bytes]] = {}
        _body_params: Optional[bytes] = None

        # process the path parameters
        # process the query parameters
        if timestamp is not None:
            if isinstance(timestamp, datetime):
                _query_params.append(
                    (
                        'timestamp',
                        timestamp.strftime(
                            self.api_client.configuration.datetime_format
                        )
                    )
                )
            else:
                _query_params.append(('timestamp', timestamp))
            
        # process the header parameters
        # process the form parameters
        # process the body parameter


        # set the HTTP header `Accept`
        if 'Accept' not in _header_params:
            _header_params['Accept'] = self.api_client.select_header_accept(
                [
                    'application/json'
                ]
            )


        # authentication setting
        _auth_settings: List[str] = [
            'confidentialBearerToken'
        ]

        return self.api_client.param_serialize(
            method='GET',
            resource_path='/supplyAnalytics/leadPayouts',
            path_params=_path_params,
            query_params=_query_params,
            header_params=_header_params,
            body=_body_params,
            post_params=_form_params,
            files=_files,
            auth_settings=_auth_settings,
            collection_formats=_collection_formats,
            _host=_host,
            _request_auth=_request_auth
        )


